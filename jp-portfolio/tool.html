<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ—¥æ–‡é¢è©¦é€š</title>

  <!-- Vue.js -->
  <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
  
  <!-- Tailwind CSS with specific version -->
  <script src="https://cdn.tailwindcss.com?v=3.4.1"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      },
    }
  </script>
  
  <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-VXKMN286TH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-VXKMN286TH');
    </script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Meta tags -->
  <meta name="description" content="å°ˆæ¥­çš„æ—¥æ–‡é¢è©¦æº–å‚™å¹³å°">
  <script src="./config.js"></script>
</head>
<body>
  <div id="app">
    <div class="font-inter">
      <!-- å°è¦½åˆ— -->
      <nav class="bg-gradient-to-r from-blue-600 to-indigo-700 p-4 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
          <h1 class="text-white text-3xl font-bold font-inter cursor-pointer" 
              @click="currentPage = 'landing'">
            æ—¥æ–‡é¢è©¦é€š
          </h1>
        </div>
      </nav>

      <!-- ä¸»è¦å…§å®¹ -->
      <template v-if="!isAuthReady">
        <div class="flex justify-center items-center h-screen bg-gray-100">
          <div class="text-center text-xl text-gray-600">
            è¼‰å…¥ä¸­ï¼Œè«‹ç¨å€™...
          </div>
        </div>
      </template>
      <template v-else>
        <component 
          :is="getCurrentPage"
          @navigate="navigateToPage"
          :user-id="user?.uid"
          @booking-success="handleBookingSuccess"
          :show-success-message="showBookingSuccess"
        ></component>
      </template>
    </div>
  </div>

  <!-- æš«æ™‚è¨»è§£ OpenAI ç›¸é—œç¨‹å¼ç¢¼ -->
  <!--
  <script>
      const API_KEY = "YOUR-API-KEY";
      // ...existing OpenAI integration code...
  </script>
  -->

  <script>
    // å®šç¾©æ‰€æœ‰å­å…ƒä»¶
    const CollapsibleSection = {
      props: {
        title: String,
      },
      data() {
        return {
          isOpen: false
        }
      },
      methods: {
        toggleOpen() {
          this.isOpen = !this.isOpen;
        }
      },
      template: `
        <div class="mb-4 bg-gray-100 p-4 rounded-lg shadow-sm">
          <button
            class="flex justify-between items-center w-full text-left text-xl font-semibold text-blue-700"
            @click="toggleOpen"
          >
            {{ title }}
            <span>{{ isOpen ? 'â–²' : 'â–¼' }}</span>
          </button>
          <div v-if="isOpen" class="mt-4 text-gray-800">
            <slot></slot>
          </div>
        </div>
      `
    };

    // å…¶ä»–å­å…ƒä»¶å®šç¾©...
    const SectionCard = {
      props: ['title', 'description', 'color'],
      template: `
        <div :class="['mb-8 bg-white rounded-xl shadow-md overflow-hidden border-l-8', color]">
          <div class="p-6">
            <h3 class="text-3xl font-bold text-gray-800 mb-3">{{ title }}</h3>
            <p class="text-gray-600 text-lg mb-4">{{ description }}</p>
            <div class="text-gray-700 text-base leading-relaxed">
              <slot></slot>
            </div>
          </div>
        </div>
      `
    };

    const FeatureCard = {
      props: ['icon', 'title', 'description'],
      emits: ['click'],
      template: `
        <div
          class="bg-white rounded-xl shadow-lg p-6 flex flex-col items-center text-center transition duration-300 transform hover:scale-105 hover:shadow-2xl cursor-pointer"
          @click="$emit('click')"
        >
          <div class="text-6xl mb-4">{{ icon }}</div>
          <h3 class="text-2xl font-bold text-gray-800 mb-2">{{ title }}</h3>
          <p class="text-gray-600 mb-4">{{ description }}</p>
          <button
            class="mt-auto px-6 py-2 rounded-full font-semibold bg-blue-500 text-white hover:bg-blue-600"
          >
            äº†è§£æ›´å¤š
          </button>
        </div>
      `
    };

    // ä¸»è¦é é¢å…ƒä»¶
    const LandingPage = {
      components: { FeatureCard },
      emits: ['navigate'],
      methods: {
        navigate(pageName) {
          this.$emit('navigate', pageName);
        }
      },
      template: `
        <div class="min-h-screen bg-gray-50 py-12 flex flex-col items-center">
          <header class="text-center mb-12 px-4">
            <h2 class="text-5xl md:text-6xl font-extrabold text-blue-800 mb-4 tracking-tight">
              æ—¥æ–‡é¢è©¦æˆåŠŸï¼Œå¾é€™è£¡é–‹å§‹ï¼
            </h2>
            <p class="text-xl md:text-2xl text-gray-600 max-w-2xl mx-auto leading-relaxed">
              ç‚ºæ‚¨é‡èº«æ‰“é€ çš„æ—¥æ–‡é¢è©¦æº–å‚™å¹³å°ï¼ŒåŠ©æ‚¨è‡ªä¿¡æ‡‰å°ï¼Œè·æ¶¯èµ·é£›ã€‚
            </p>
          </header>

          <div class="flex flex-col sm:flex-row space-y-6 sm:space-y-0 sm:space-x-6 mb-16">
            <button
              @click="navigate('interview-essentials')"
              class="bg-blue-600 text-white px-10 py-5 rounded-full text-2xl font-bold shadow-xl hover:bg-blue-700 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-300"
            >
              é¢è©¦æº–å‚™
            </button>
            <button
              @click="navigate('resume-review')"
              class="bg-indigo-600 text-white px-10 py-5 rounded-full text-2xl font-bold shadow-xl hover:bg-indigo-700 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-indigo-300"
            >
              å±¥æ­·å¯©æ ¸
            </button>
            <a href="https://ctssjpit.com" target="_blank">
              <button
                class="bg-green-600 text-white px-10 py-5 rounded-full text-2xl font-bold shadow-xl hover:bg-green-700 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-green-300"
              >
                TO CTSS
              </button>
            </a>
           </div>

          <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 px-8 max-w-6xl mx-auto">
            <FeatureCard
              icon="ğŸ“š"
              title="é¢è©¦ç²¾è¯"
              description="æ¶µè“‹é¢è©¦æŠ€å·§ã€ç¦®å„€èˆ‡ç­–ç•¥ï¼ŒåŠ©æ‚¨è„«ç©è€Œå‡ºã€‚"
              @click="() => navigate('interview-essentials')"
            />
            <FeatureCard
              icon="ğŸ“"
              title="ç”¨è©ç”¨å…·"
              description="å°ˆæ³¨æ—¥æ–‡æ•¬èªèˆ‡å•†å‹™è©å½™ï¼Œç²¾æº–è¡¨é”ä¸å¤±ç¦®ã€‚"
              @click="() => navigate('vocabulary-usage')"
            />
            <FeatureCard
              icon="ğŸ¤–"
              title="AI å±¥æ­·å¯©æ ¸"
              description="æ¨¡æ“¬ AI æ‘˜è¦å±¥æ­·ï¼Œå¿«é€ŸæŒæ¡é‡é»èˆ‡äº®é»ã€‚"
              @click="() => navigate('resume-review')"
            />
            <FeatureCard
              icon="ğŸ¤"
              title="å…è²»è«®è©¢"
              description="é ç´„ä¸€å°ä¸€å°ˆæ¥­æŒ‡å°ï¼Œå€‹äººåŒ–è§£æ±ºæ‚¨çš„ç–‘å•ã€‚"
              @click="() => navigate('consultation')"
            />
          </section>
        </div>
      `
    };

    // æ—¥æ–‡é¢è©¦æº–å‚™ç²¾è¯é çµ„ä»¶ (InterviewEssentialsPage)
    const InterviewEssentialsPage = {
      components: { SectionCard, CollapsibleSection },
      data() {
        return {
          mockAnswer: '',
          isAnalyzing: false,
          analysisResult: '',
          showAnalysisModal: false,
          sampleSelfIntro: `ã€‡ã€‡ã¨ç”³ã—ã¾ã™ã€‚ã“ã‚Œã¾ã§ã¯ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã®åˆ†é‡ã§ã€5å¹´é–“ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¨ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ä¸¡æ–¹ã§çµŒé¨“ã‚’ç©ã‚“ã§ã¾ã„ã‚Šã¾ã—ãŸã€‚ç‰¹ã«Reactã¨Node.jsã‚’ç”¨ã„ãŸWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™ºã«å¼·ã¿ãŒã‚ã‚Šã¾ã™ã€‚å¾¡ç¤¾ã®é©æ–°çš„ãªAIæŠ€è¡“ã‚’æ´»ç”¨ã—ãŸãƒ—ãƒ­ãƒ€ã‚¯ãƒˆé–‹ç™ºã«é­…åŠ›ã‚’æ„Ÿã˜ã€ã“ã‚Œã¾ã§ã®çµŒé¨“ã¨æŠ€è¡“ã‚’æ´»ã‹ã—ã¦è²¢çŒ®ã—ãŸã„ã¨è€ƒãˆã¦ãŠã‚Šã¾ã™ã€‚`
        }
      },
      methods: {
        async checkAnswer() {
          if (!this.mockAnswer.trim()) {
            alert('è«‹è¼¸å…¥æ‚¨çš„å›ç­”é€²è¡Œæ¨¡æ“¬ï¼');
            return;
          }

          this.isAnalyzing = true;
          try {
            const response = await fetch('https://api.openai.com/v1/chat/completions', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${config.OPENAI_API_KEY}`
              },
              body: JSON.stringify({
                model: "gpt-3.5-turbo",
                messages: [
                  {
                    role: "system",
                    content: "ä½ æ˜¯ä¸€ä½å°ˆæ¥­çš„æ—¥æ–‡é¢è©¦å®˜ï¼Œè² è²¬è©•ä¼°æ‡‰è©¦è€…çš„è‡ªæˆ‘ä»‹ç´¹ã€‚è«‹å¾ä»¥ä¸‹å¹¾å€‹æ–¹é¢è©•ä¼°ï¼š1. èªè¨€ä½¿ç”¨çš„æ­£ç¢ºæ€§ 2. æ•¬èªé‹ç”¨ 3. å…§å®¹å®Œæ•´åº¦ 4. è¡¨é”çš„å°ˆæ¥­åº¦ã€‚è«‹ç”¨ä¸­æ–‡çµ¦å‡ºå…·é«”å»ºè­°ã€‚"
                  },
                  {
                    role: "user",
                    content: `è«‹è©•ä¼°ä»¥ä¸‹æ—¥æ–‡è‡ªæˆ‘ä»‹ç´¹ä¸¦çµ¦å‡ºæ”¹é€²å»ºè­°ï¼š\n\n${this.mockAnswer}`
                  }
                ],
                temperature: 0.7,
                max_tokens: 500
              })
            });

            const result = await response.json();
            if (result.choices && result.choices[0]?.message?.content) {
              this.analysisResult = result.choices[0].message.content.trim();
              // é¡¯ç¤ºåˆ†æçµæœ
              this.$nextTick(() => {
                this.showAnalysisModal = true;
              });
            } else {
              throw new Error('AI response format error');
            }
          } catch (error) {
            console.error('åˆ†æå¤±æ•—:', error);
            alert('åˆ†æå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚');
          } finally {
            this.isAnalyzing = false;
          }
        }
      },
      template: `
        <div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
          <div class="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-4xl font-bold text-blue-700 mb-8 text-center">æ—¥æ–‡é¢è©¦æº–å‚™ç²¾è¯</h2>

            <SectionCard
              title="å¸¸è¦‹é¢è©¦å•é¡Œèˆ‡ç¯„ä¾‹å›ç­”"
              description="æŒæ¡æ ¸å¿ƒå•é¡Œï¼Œæº–å‚™è¬ç„¡ä¸€å¤±çš„å›ç­”ã€‚"
              color="border-l-blue-500"
            >
              <CollapsibleSection title="1. è‡ªæˆ‘ä»‹ç´¹ (è‡ªå·±ç´¹ä»‹)">
                <p class="mb-2">
                  ç¯„ä¾‹ï¼š
                  <span class="italic text-gray-700">
                    ã€Œã€‡ã€‡ã¨ç”³ã—ã¾ã™ã€‚ã“ã‚Œã¾ã§ã¯ã€‡ã€‡ã®åˆ†é‡ã§ã€ã€‡ã€‡ã®çµŒé¨“ã‚’ç©ã‚“ã§ã¾ã„ã‚Šã¾ã—ãŸã€‚è²´ç¤¾ã®ã€‡ã€‡ã¨ã„ã†ç‚¹ã«é­…åŠ›ã‚’æ„Ÿã˜ã€ã“ã‚Œã¾ã§ã®çµŒé¨“ã‚’æ´»ã‹ã—ã¦è²¢çŒ®ã—ãŸã„ã¨è€ƒãˆã¦ãŠã‚Šã¾ã™ã€‚ã€
                  </span>
                </p>
                <p>
                  è¦é»ï¼šç°¡æ½”æ˜ç­ï¼ŒåŒ…å«å§“åã€éå¾€ç¶“é©—ã€å¿—æœ›å‹•æ©Ÿã€å¦‚ä½•è²¢ç»ã€‚
                </p>
              </CollapsibleSection>
              <CollapsibleSection title="2. å¿—æœ›å‹•æ©Ÿ (å¿—æœ›å‹•æ©Ÿ)">
                <p class="mb-2">
                  ç¯„ä¾‹ï¼š
                  <span class="italic text-gray-700">
                    ã€Œè²´ç¤¾ã®ã€‡ã€‡ã¨ã„ã†äº‹æ¥­å±•é–‹ã«æ·±ãå…±æ„Ÿã—ã€ç‰¹ã«ã€‡ã€‡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¼·ã„é–¢å¿ƒã‚’æŒã£ã¦ãŠã‚Šã¾ã™ã€‚ç§ã®ã€‡ã€‡ã®ã‚¹ã‚­ãƒ«ãŒã€è²´ç¤¾ã®ç›®æ¨™é”æˆã«è²¢çŒ®ã§ãã‚‹ã¨ç¢ºä¿¡ã—ã¦ãŠã‚Šã¾ã™ã€‚ã€
                  </span>
                </p>
                <p>
                  è¦é»ï¼šè¡¨é”å°å…¬å¸çš„ç†è§£èˆ‡ç†±æƒ…ï¼Œé€£çµå€‹äººèƒ½åŠ›èˆ‡å…¬å¸éœ€æ±‚ã€‚
                </p>
              </CollapsibleSection>
              <CollapsibleSection title="3. å¼·é …èˆ‡å¼±é … (é•·æ‰€ã¨çŸ­æ‰€)">
                <p class="mb-2">
                  å¼·é …ç¯„ä¾‹ï¼š<span class="italic text-gray-700">ã€Œç§ã®é•·æ‰€ã¯ã€å•é¡Œè§£æ±ºèƒ½åŠ›ãŒé«˜ã„ç‚¹ã§ã™ã€‚ã€‡ã€‡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã€‡ã€‡ã®èª²é¡Œã«ç›´é¢ã—ãŸéš›ã€ã€‡ã€‡ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§è§£æ±ºã—ã€ã€‡ã€‡ã®æˆæœã‚’ä¸Šã’ã¾ã—ãŸã€‚ã€</span>
                </p>
                <p class="mb-2">
                  å¼±é …ç¯„ä¾‹ï¼š<span class="italic text-gray-700">ã€Œç§ã®çŸ­æ‰€ã¯ã€å®Œç’§ä¸»ç¾©ãªå‚¾å‘ãŒã‚ã‚‹ç‚¹ã§ã™ã€‚ã—ã‹ã—ã€æœ€è¿‘ã¯è¨ˆç”»æ®µéšã§å„ªå…ˆé †ä½ã‚’ã¤ã‘ã€åŠ¹ç‡çš„ã«é€²ã‚ã‚‹ã“ã¨ã‚’æ„è­˜ã™ã‚‹ã“ã¨ã§æ”¹å–„ã—ã¦ã„ã¾ã™ã€‚ã€</span>
                </p>
                <p>è¦é»ï¼šå¼·é …è¦èˆ‰ä¾‹ï¼Œå¼±é …è¦èªªæ˜å¦‚ä½•æ”¹é€²ã€‚</p>
              </CollapsibleSection>
            </SectionCard>

            <SectionCard
              title="æ¨¡æ“¬é¢è©¦ç·´ç¿’"
              description="è¼¸å…¥æ‚¨çš„å›ç­”ï¼Œé€²è¡Œ AI è©•ä¼°ã€‚"
              color="border-l-orange-500"
            >
              <p class="text-lg font-medium mb-3">å•é¡Œï¼šè«‹ç”¨æ—¥æ–‡é€²è¡Œè‡ªæˆ‘ä»‹ç´¹ï¼ˆç´„ 1 åˆ†é˜ï¼‰ã€‚</p>
              <textarea
                class="w-full p-3 border border-gray-300 rounded-lg h-32 focus:ring-blue-500 focus:border-blue-500 text-gray-800"
                placeholder="è«‹åœ¨æ­¤è¼¸å…¥æ‚¨çš„æ—¥æ–‡è‡ªæˆ‘ä»‹ç´¹..."
                v-model="mockAnswer"
              ></textarea>
              <button
                @click="checkAnswer"
                :disabled="isAnalyzing"
                class="mt-4 bg-green-600 text-white px-6 py-3 rounded-full text-lg font-semibold shadow-md hover:bg-green-700 transition duration-300 transform hover:scale-105 flex items-center justify-center"
              >
                <template v-if="isAnalyzing">
                  <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  AI åˆ†æä¸­...
                </template>
                <template v-else>
                  AI æ¨¡æ“¬é¢è©¦è©•ä¼°
                </template>
              </button>

              <!-- åˆ†æçµæœå½ˆçª— -->
              <div v-if="showAnalysisModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4">
                <div class="bg-white rounded-xl p-6 max-w-lg w-full">
                  <h3 class="text-xl font-bold text-gray-800 mb-4">AI è©•ä¼°çµæœ</h3>
                  <div class="prose prose-blue max-w-none">
                    <p class="whitespace-pre-wrap text-gray-700">{{ analysisResult }}</p>
                  </div>
                  <button
                    @click="showAnalysisModal = false"
                    class="mt-6 w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                  >
                    é—œé–‰
                  </button>
                </div>
              </div>
            </SectionCard>

            <SectionCard
              title="é¢è©¦ç¦®å„€èˆ‡æ³¨æ„äº‹é …"
              description="ç´°ç¯€æ±ºå®šæˆæ•—ï¼Œå±•ç¾æ‚¨çš„å°ˆæ¥­åº¦ã€‚"
              color="border-l-green-500"
            >
              <CollapsibleSection title="1. æœè£å„€å®¹">
                <ul class="list-disc list-inside text-gray-700 mb-2">
                  <li>ç”·å£«ï¼šæ·±è‰²è¥¿è£ã€ç™½è¥¯è¡«ã€ç´ è‰²é ˜å¸¶ï¼Œæ•´æ½”çš„é«®å‹ã€‚</li>
                  <li>å¥³å£«ï¼šæ·±è‰²å¥—è£ã€å…§æ­è¥¯è¡«ï¼Œé¿å…éåº¦å¦å®¹èˆ‡é£¾å“ï¼Œé«®å‹æ•´é½Šã€‚</li>
                </ul>
              </CollapsibleSection>
              <CollapsibleSection title="2. å•å€™èªèˆ‡å…¥åº§æ™‚æ©Ÿ">
                <p class="mb-2">
                  é€²å…¥é¢è©¦å®¤æ™‚ï¼š<span class="italic text-gray-700">ã€Œå¤±ç¤¼ã„ãŸã—ã¾ã™ã€‚ã€</span>
                </p>
                <p>
                  å°±åº§å‰ï¼šç­‰å¾…é¢è©¦å®˜æŒ‡ç¤º <span class="italic text-gray-700">ã€Œã©ã†ããŠã‹ã‘ãã ã•ã„ã€</span> å¾Œå†å…¥åº§ã€‚
                </p>
              </CollapsibleSection>
              <CollapsibleSection title="3. çœ¼ç¥äº¤æµèˆ‡è‚¢é«”èªè¨€">
                <p class="mb-2">
                  çœ¼ç¥ï¼šèˆ‡é¢è©¦å®˜ä¿æŒé©åº¦çœ¼ç¥äº¤æµï¼Œä¸å¿…é•·æ™‚é–“ç›´è¦–ã€‚
                </p>
                <p>
                  è‚¢é«”ï¼šåå§¿ç«¯æ­£ï¼Œé›™æ‰‹å¯è¼•æ”¾åœ¨è†ä¸Šï¼Œé¿å…é »ç¹å°å‹•ä½œã€‚
                </p>
              </CollapsibleSection>
            </SectionCard>

            <SectionCard
              title="ç”¢æ¥­åˆ¥é¢è©¦é‡é»"
              description="é‡å°ä¸åŒè¡Œæ¥­ï¼Œæä¾›å°ˆå±¬é¢è©¦å»ºè­°ã€‚"
              color="border-l-purple-500"
            >
              <CollapsibleSection title="1. IT ç”¢æ¥­">
                <p class="mb-2">é‡é»ï¼šæŠ€è¡“èƒ½åŠ›ã€è§£æ±ºå•é¡Œèƒ½åŠ›ã€åœ˜éšŠåˆä½œã€å°æ–°æŠ€è¡“çš„å­¸ç¿’ç†±æƒ…ã€‚</p>
                <p>
                  å¸¸ç”¨è©å½™ï¼šã‚¢ã‚¸ãƒ£ã‚¤ãƒ« (Agile)ã€ã‚¯ãƒ©ã‚¦ãƒ‰ (Cloud)ã€ãƒ‡ãƒ—ãƒ­ã‚¤ (Deploy)ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ (Framework)ã€‚
                </p>
              </CollapsibleSection>
              <CollapsibleSection title="2. è²¿æ˜“/å•†ç¤¾">
                <p class="mb-2">é‡é»ï¼šæºé€šèƒ½åŠ›ã€è«‡åˆ¤æŠ€å·§ã€èªå­¸èƒ½åŠ›ã€åœ‹éš›è¦–é‡ã€æŠ—å£“æ€§ã€‚</p>
                <p>
                  å¸¸ç”¨è©å½™ï¼šã‚µãƒ—ãƒ©ã‚¤ãƒã‚§ãƒ¼ãƒ³ (Supply Chain)ã€äº¤æ¸‰ (Negotiation)ã€å¸‚å ´èª¿æŸ» (Market Research)ã€‚
                </p>
              </CollapsibleSection>
            </SectionCard>
          </div>
        </div>
      `
    };

    // ç”¨è©ç”¨å…·æº–å‚™é çµ„ä»¶ (VocabularyUsagePage)
    const VocabularyUsagePage = {
      components: { SectionCard, CollapsibleSection },
      data() {
        return {
          quizQuestions: [
            {
              question: "ä¸‹åˆ—å“ªä¸€å€‹æ˜¯ã€Œè¡Œã (å»)ã€çš„å°Šæ•¬èªï¼Ÿ",
              options: ["å‚ã‚‹", "ç”³ã™", "ã„ã‚‰ã£ã—ã‚ƒã‚‹", "ã”ã–ã„ã¾ã™"],
              answer: "ã„ã‚‰ã£ã—ã‚ƒã‚‹"
            },
            {
              question: "ç•¶å°æ–¹èªªã€ŒãŠä¸–è©±ã«ãªã£ã¦ãŠã‚Šã¾ã™ã€æ™‚ï¼Œæœ€æ°ç•¶çš„å›æ‡‰æ˜¯ï¼Ÿ",
              options: ["ã©ã†ã„ãŸã—ã¾ã—ã¦", "ã“ã¡ã‚‰ã“ããŠä¸–è©±ã«ãªã£ã¦ãŠã‚Šã¾ã™", "ã¯ã„ã€ãã†ã§ã™", "åˆ†ã‹ã‚Šã¾ã—ãŸ"],
              answer: "ã“ã¡ã‚‰ã“ããŠä¸–è©±ã«ãªã£ã¦ãŠã‚Šã¾ã™"
            },
            {
              question: "ã€Œè³‡æ–™ã€çš„æ—¥æ–‡å•†å‹™å¸¸ç”¨è©å½™æ˜¯ä»€éº¼ï¼Ÿ",
              options: ["ã—ã‚Šã‚‡ã†", "ãƒ‡ãƒ¼ã‚¿", "ãƒãƒ‹ãƒ¥ã‚¢ãƒ«", "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"],
              answer: "ã—ã‚Šã‚‡ã†"
            }
          ],
          currentQuestionIndex: 0,
          showQuizResult: false,
          correctAnswers: 0,
          selectedOption: ''
        }
      },
      methods: {
        handleOptionSelect(option) {
          this.selectedOption = option;
        },
        checkAnswer() {
          if (this.selectedOption === this.quizQuestions[this.currentQuestionIndex].answer) {
            this.correctAnswers++;
          }
          this.showQuizResult = true;
        },
        nextQuestion() {
          this.showQuizResult = false;
          this.selectedOption = '';
          if (this.currentQuestionIndex < this.quizQuestions.length - 1) {
            this.currentQuestionIndex++;
          } else {
            alert(`æ¸¬é©—çµæŸï¼æ‚¨ç­”å°äº† ${this.correctAnswers} é¡Œï¼Œå…± ${this.quizQuestions.length} é¡Œã€‚`);
            this.currentQuestionIndex = 0; // é‡è¨­æ¸¬é©—
            this.correctAnswers = 0;
          }
        }
      },
      template: `
        <div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
          <div class="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-4xl font-bold text-blue-700 mb-8 text-center">ç”¨è©ç”¨å…·æº–å‚™</h2>

            <SectionCard
              title="æ•¬èªç”¨æ³•ç²¾è§£"
              description="æ—¥æ–‡æ•¬èªæ˜¯è·å ´æºé€šçš„é—œéµï¼Œæ­£ç¢ºä½¿ç”¨å±•ç¾æ‚¨çš„å°ˆæ¥­ã€‚"
              color="border-l-red-500"
            >
              <CollapsibleSection title="1. å°Šæ•¬èª (ãã‚“ã‘ã„ã”)">
                <p class="mb-2">
                  ç”¨æ–¼æŠ¬é«˜å°æ–¹ï¼ˆé•·è¼©ã€å®¢æˆ¶ã€ä¸Šå¸ï¼‰çš„å‹•ä½œæˆ–ç‹€æ…‹ã€‚
                  <br />
                  ä¾‹ï¼šè¡Œã â†’ ã„ã‚‰ã£ã—ã‚ƒã‚‹ (å»)ï¼›é£Ÿã¹ã‚‹ â†’ å¬ã—ä¸ŠãŒã‚‹ (åƒ)ï¼›è¨€ã† â†’ ãŠã£ã—ã‚ƒã‚‹ (èªª)
                </p>
                <p>è¦é»ï¼šè¡¨ç¤ºå°å°æ–¹çš„æ•¬æ„ï¼Œç”¨æ–¼å°æ–¹çš„è¡Œç‚ºã€‚</p>
              </CollapsibleSection>
              <CollapsibleSection title="2. è¬™è®“èª (ã‘ã‚“ã˜ã‚‡ã†ã”)">
                <p class="mb-2">
                  ç”¨æ–¼é™ä½è‡ªå·±çš„å‹•ä½œï¼Œä»¥ç¤ºå°å°æ–¹çš„å°Šæ•¬ã€‚
                  <br />
                  ä¾‹ï¼šè¨€ã† â†’ ç”³ã™ (èªª)ï¼›ã™ã‚‹ â†’ ã„ãŸã™ (åš)ï¼›è¡Œã â†’ å‚ã‚‹ (å»)
                </p>
                <p>è¦é»ï¼šè¡¨ç¤ºå°æ–¹çš„åœ°ä½é«˜æ–¼è‡ªå·±ï¼Œç”¨æ–¼è‡ªå·±çš„è¡Œç‚ºã€‚</p>
              </CollapsibleSection>
              <CollapsibleSection title="3. ä¸å¯§èª (ã¦ã„ã­ã„ã”)">
                <p class="mb-2">
                  æœ€åŸºæœ¬çš„ç¦®è²Œç”¨èªï¼Œä»¥ã€Œã§ã™ã€ã€Œã¾ã™ã€çµå°¾ï¼Œå°ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨ã€‚
                  <br />
                  ä¾‹ï¼šæœ¬ã‚’èª­ã‚€ â†’ æœ¬ã‚’èª­ã¿ã¾ã™ (è®€æ›¸)ï¼›å¬‰ã—ã„ â†’ å¬‰ã—ã„ã§ã™ (é–‹å¿ƒ)
                </p>
                <p>è¦é»ï¼šä½¿èªæ°£æ›´ç¦®è²Œã€å®¢æ°£ã€‚</p>
              </CollapsibleSection>
              <CollapsibleSection title="æ•¬èªå¸¸è¦‹éŒ¯èª¤èˆ‡é¿å…">
                <p class="mb-2">
                  éŒ¯èª¤ç¯„ä¾‹ï¼š<span class="italic text-red-600">ã€ŒãŠå®¢æ§˜ãŒå‚ã‚‰ã‚Œã¾ã—ãŸã€‚ã€</span> (å®¢æˆ¶ä¾†äº†ï¼ŒéŒ¯èª¤ä½¿ç”¨è¬™è®“èª)
                  <br />
                  æ­£ç¢ºç”¨æ³•ï¼š<span class="italic text-green-600">ã€ŒãŠå®¢æ§˜ãŒã„ã‚‰ã£ã—ã‚ƒã„ã¾ã—ãŸã€‚ã€</span> (å®¢æˆ¶ä¾†äº†ï¼Œæ­£ç¢ºä½¿ç”¨å°Šæ•¬èª)
                </p>
                <p>è¦é»ï¼šå€åˆ†æ¸…æ¥šå°è±¡å’Œè¡Œç‚ºçš„ä¸»é«”ã€‚</p>
              </CollapsibleSection>
            </SectionCard>

            <SectionCard
              title="è©å½™æ¸¬é©—"
              description="æ¸¬è©¦æ‚¨å°æ—¥æ–‡å•†å‹™è©å½™å’Œæ•¬èªçš„ç†è§£ï¼"
              color="border-l-blue-400"
            >
              <div class="bg-white p-6 rounded-lg shadow-md">
                <h3 class="text-xl font-bold text-gray-800 mb-4">å•é¡Œ {{ currentQuestionIndex + 1 }}/{{ quizQuestions.length }}</h3>
                <p class="text-lg mb-4">{{ quizQuestions[currentQuestionIndex].question }}</p>
                <div class="space-y-3">
                  <button
                    v-for="(option, index) in quizQuestions[currentQuestionIndex].options"
                    :key="index"
                    @click="handleOptionSelect(option)"
                    :class="[
                      'w-full text-left p-3 rounded-lg border-2 transition duration-200',
                      selectedOption === option ? 'bg-blue-100 border-blue-500' : 'bg-gray-50 border-gray-200 hover:border-blue-300',
                      showQuizResult && option === quizQuestions[currentQuestionIndex].answer ? 'border-green-500 bg-green-50' : '',
                      showQuizResult && selectedOption === option && selectedOption !== quizQuestions[currentQuestionIndex].answer ? 'border-red-500 bg-red-50' : ''
                    ]"
                    :disabled="showQuizResult"
                  >
                    {{ option }}
                  </button>
                </div>
                <button
                  v-if="!showQuizResult"
                  @click="checkAnswer"
                  :disabled="!selectedOption"
                  class="mt-6 w-full bg-blue-600 text-white px-6 py-3 rounded-full text-lg font-semibold shadow-md hover:bg-blue-700 transition duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
                >
                  æª¢æŸ¥ç­”æ¡ˆ
                </button>
                <button
                  v-else
                  @click="nextQuestion"
                  class="mt-6 w-full bg-green-600 text-white px-6 py-3 rounded-full text-lg font-semibold shadow-md hover:bg-green-700 transition duration-300 transform hover:scale-105"
                >
                  {{ currentQuestionIndex < quizQuestions.length - 1 ? 'ä¸‹ä¸€é¡Œ' : 'é‡æ–°é–‹å§‹æ¸¬é©—' }}
                </button>
                <p v-if="showQuizResult" class="mt-4 text-center text-lg font-semibold">
                  <span v-if="selectedOption === quizQuestions[currentQuestionIndex].answer" class="text-green-700">æ­£ç¢ºï¼</span>
                  <span v-else class="text-red-700">éŒ¯èª¤ã€‚æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š{{ quizQuestions[currentQuestionIndex].answer }}</span>
                </p>
              </div>
            </SectionCard>

            <SectionCard
              title="å¸¸ç”¨æ—¥æ–‡å•†å‹™è©å½™"
              description="ç†Ÿæ‚‰å•†å‹™ç”¨èªï¼Œè®“æ‚¨æºé€šç„¡ç¤™ã€‚"
              color="border-l-yellow-500"
            >
              <CollapsibleSection title="è¾¦å…¬å®¤ç”¨èª">
                <ul class="list-disc list-inside text-gray-700 mb-2">
                  <li>æ‰¿çŸ¥ã„ãŸã—ã¾ã—ãŸ (ã‹ã—ã“ã¾ã‚Šã¾ã—ãŸ): æˆ‘æ˜ç™½äº†/æˆ‘çŸ¥é“äº† (æ›´ç¦®è²Œ)</li>
                  <li>æã‚Œå…¥ã‚Šã¾ã™: ä¸å¥½æ„æ€/å¾ˆæŠ±æ­‰/è¬è¬ (è¡¨é”è¬™éœæˆ–æ„Ÿè¬)</li>
                  <li>ãŠä¸–è©±ã«ãªã£ã¦ãŠã‚Šã¾ã™: æ‰¿è’™é—œç…§ (å¸¸ç”¨æ–¼å•†å‹™å¾€ä¾†é–‹é ­)</li>
                  <li>ãŠç–²ã‚Œæ§˜ã§ã™: è¾›è‹¦äº† (ç”¨æ–¼åŒäº‹é–“æˆ–ä¸Šä¸‹ç­å•å€™)</li>
                </ul>
              </CollapsibleSection>
              <CollapsibleSection title="æœƒè­°èˆ‡å ±å‘Šç›¸é—œè©å½™">
                <ul class="list-disc list-inside text-gray-700 mb-2">
                  <li>è­°äº‹éŒ² (ãã˜ã‚ã): æœƒè­°è¨˜éŒ„</li>
                  <li>è³‡æ–™ (ã—ã‚Šã‚‡ã†): è³‡æ–™</li>
                  <li>ã”æ„è¦‹ (ã”ã„ã‘ã‚“): æ„è¦‹</li>
                  <li>æ¤œè¨ (ã‘ã‚“ã¨ã†): è¨è«–/ç ”è¨</li>
                  <li>ææ¡ˆ (ã¦ã„ã‚ã‚“): ææ¡ˆ</li>
                </ul>
              </CollapsibleSection>
            </SectionCard>

            <SectionCard
              title="é¢è©¦å¸¸ç”¨å¥å‹"
              description="å¯¦ç”¨å¥å‹ï¼Œè®“æ‚¨åœ¨é¢è©¦ä¸­æµæš¢è¡¨é”ã€‚"
              color="border-l-indigo-500"
            >
              <CollapsibleSection title="è¡¨é”èˆˆè¶£èˆ‡ç†±æƒ…">
                <ul class="list-disc list-inside text-gray-700 mb-2">
                  <li>ã€Œã€œã«èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚ã€(æˆ‘å°...å¾ˆæ„Ÿèˆˆè¶£ã€‚)
                    <br />ä¾‹ï¼šã€Œè²´ç¤¾ã®ä¼æ¥­æ–‡åŒ–ã«å¤§å¤‰èˆˆå‘³ãŒã‚ã‚Šã¾ã™ã€‚ã€</li>
                  <li>ã€Œã€œã«é­…åŠ›ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚ã€(æˆ‘è¢«...æ‰€å¸å¼•ã€‚)
                    <br />ä¾‹ï¼šã€Œå¾¡ç¤¾ã®ãƒãƒ¼ãƒ ã®å”èª¿æ€§ã«é­…åŠ›ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚ã€</li>
                </ul>
              </CollapsibleSection>
              <CollapsibleSection title="èªªæ˜ç¶“é©—èˆ‡èƒ½åŠ›">
                <ul class="list-disc list-inside text-gray-700 mb-2">
                  <li>ã€Œã€œã®çµŒé¨“ãŒã‚ã‚Šã¾ã™ã€‚ã€(æˆ‘æœ‰...çš„ç¶“é©—ã€‚)
                    <br />ä¾‹ï¼šã€Œç§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã®çµŒé¨“ãŒã‚ã‚Šã¾ã™ã€‚ã€</li>
                  <li>ã€Œã€œãŒå¾—æ„ã§ã™ã€‚ã€(æˆ‘æ“…é•·...)
                    <br />ä¾‹ï¼šã€Œç§ã¯ãƒ‡ãƒ¼ã‚¿åˆ†æãŒå¾—æ„ã§ã™ã€‚ã€</li>
                </ul>
              </CollapsibleSection>
              <CollapsibleSection title="è¡¨é”è²¢ç»æ„é¡˜">
                <ul class="list-disc list-inside text-gray-700 mb-2">
                  <li>ã€Œã€œã«è²¢çŒ®ã—ãŸã„ã¨è€ƒãˆã¦ãŠã‚Šã¾ã™ã€‚ã€(æˆ‘å¸Œæœ›èƒ½å°...æœ‰æ‰€è²¢ç»ã€‚)
                    <br />ä¾‹ï¼šã€Œç§ã®ã‚¹ã‚­ãƒ«ã§è²´ç¤¾ã®æˆé•·ã«è²¢çŒ®ã—ãŸã„ã¨è€ƒãˆã¦ãŠã‚Šã¾ã™ã€‚ã€</li>
                  <li>ã€Œã€œã§è²´ç¤¾ã«è²¢çŒ®ã§ãã‚‹ã¨ç¢ºä¿¡ã—ã¦ãŠã‚Šã¾ã™ã€‚ã€(æˆ‘ç¢ºä¿¡èƒ½ç”¨...ç‚ºè²´å…¬å¸è²¢ç»ã€‚)
                    <br />ä¾‹ï¼šã€Œç§ã®å•é¡Œè§£æ±ºèƒ½åŠ›ã§è²´ç¤¾ã«è²¢çŒ®ã§ãã‚‹ã¨ç¢ºä¿¡ã—ã¦ãŠã‚Šã¾ã™ã€‚ã€</li>
                </ul>
              </CollapsibleSection>
            </SectionCard>
          </div>
        </div>
      `
    };

    // å±¥æ­·å¯©æ ¸èˆ‡ AI æ‘˜è¦é çµ„ä»¶ (ResumeReviewPage)
    const ResumeReviewPage = {
      props: {
        userId: String
      },
      components: { SectionCard, CollapsibleSection },
      data() {
        return {
          selectedFile: null,
          resumeContent: '',
          aiSummary: '',
          isLoading: false,
          interviewSettings: {
            industry: 'IT', // é è¨­ç”¢æ¥­
            role: 'general', // é è¨­é¢è©¦å®˜è§’è‰²
            language: 'japanese', // é è¨­èªè¨€
            level: 'intermediate', // é è¨­é›£åº¦
            focus: ['technical', 'communication'] // è©•ä¼°é‡é»
          },
          industries: [
            { value: 'IT', label: 'IT/è»Ÿé«”é–‹ç™¼' },
            { value: 'trading', label: 'è²¿æ˜“/å•†ç¤¾' },
            { value: 'manufacturing', label: 'è£½é€ æ¥­' },
            { value: 'service', label: 'æœå‹™æ¥­' }
          ],
          roles: [
            { value: 'general', label: 'ä¸€èˆ¬é¢è©¦å®˜' },
            { value: 'hr', label: 'äººè³‡ä¸»ç®¡' },
            { value: 'technical', label: 'æŠ€è¡“ä¸»ç®¡' },
            { value: 'department', label: 'éƒ¨é–€ä¸»ç®¡' }
          ],
          languages: [
            { value: 'japanese', label: 'æ—¥æ–‡' },
            { value: 'english', label: 'è‹±æ–‡' },
            { value: 'chinese', label: 'ä¸­æ–‡' }
          ],
          levels: [
            { value: 'beginner', label: 'åˆç´š' },
            { value: 'intermediate', label: 'ä¸­ç´š' },
            { value: 'advanced', label: 'é«˜ç´š' }
          ],
          interviewQuestions: [], // å­˜å„²ç”Ÿæˆçš„é¢è©¦å•é¡Œ
          currentQuestionIndex: 0,
          userAnswer: '',
          feedbackResult: ''
        }
      },
      methods: {
        async callOpenAI(agent, content, customPrompt = '') {
    try {
      const response = await fetch('https://api.openai.com/v1/chat/completions', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${config.OPENAI_API_KEY}`
        },
        body: JSON.stringify({
          model: AI_CONFIG.model,
          messages: [
            {
              role: AI_CONFIG.agents[agent].role,
              content: customPrompt || AI_CONFIG.agents[agent].basePrompt(this.interviewSettings)
            },
            {
              role: "user",
              content: content
            }
          ],
          temperature: AI_CONFIG.temperature,
          max_tokens: AI_CONFIG.maxTokens,
          presence_penalty: AI_CONFIG.presencePenalty,
          frequency_penalty: AI_CONFIG.frequencyPenalty
        })
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      return await response.json();
    } catch (error) {
      console.error('API èª¿ç”¨å¤±æ•—:', error);
      throw error;
    }
  },

        // ä¿®æ”¹æª”æ¡ˆä¸Šå‚³è™•ç†æ–¹æ³•
        uploadFile() {
          // å‰µå»ºéš±è—çš„æ–‡ä»¶è¼¸å…¥å…ƒç´ 
          const fileInput = document.createElement('input');
          fileInput.type = 'file';
          fileInput.accept = '.txt, .pdf';
          fileInput.style.display = 'none';
          
          fileInput.onchange = (event) => {
            const file = event.target.files[0];
            if (file) {
              this.selectedFile = file;
              this.aiSummary = '';

              const reader = new FileReader();
              reader.onload = (e) => {
                try {
                  const content = e.target.result;
                  if (!content || content.trim().length === 0) {
                    throw new Error('æª”æ¡ˆå…§å®¹ç‚ºç©º');
                  }
                  if (content.length > 4000) { // OpenAI API æœ‰å­—æ•¸é™åˆ¶
                    throw new Error('æª”æ¡ˆå…§å®¹éé•·');
                  }
                  this.resumeContent = content;
                } catch (error) {
                  console.error('æª”æ¡ˆè®€å–å¤±æ•—:', error);
                  alert('æª”æ¡ˆè®€å–å¤±æ•—ï¼š' + error.message);
                  this.resumeContent = '';
                }
              };
              reader.onerror = (error) => {
                console.error('æª”æ¡ˆè®€å–éŒ¯èª¤:', error);
                alert('æª”æ¡ˆè®€å–éŒ¯èª¤ï¼Œè«‹é‡è©¦ã€‚');
              };
              reader.readAsText(file);
            }
          };

          // è§¸ç™¼é»æ“Š
          fileInput.click();
        },

        // æ¨¡æ“¬ AI æ‘˜è¦
        async simulateAISummary() {
          if (!this.resumeContent) {
            alert('è«‹å…ˆä¸Šå‚³å±¥æ­·æ–‡ä»¶ï¼');
            return;
          }

          this.isLoading = true;
          this.aiSummary = '';

          try {
            const result = await this.callOpenAI('resumeAnalyzer', this.resumeContent);
            if (result.choices && result.choices[0]?.message?.content) {
              const analysis = JSON.parse(result.choices[0].message.content);
              this.aiSummary = this.formatAnalysis(analysis);
            } else {
              throw new Error('ç„¡æ•ˆçš„ API éŸ¿æ‡‰æ ¼å¼');
            }
          } catch (error) {
            console.error('AI åˆ†æå¤±æ•—:', error);
            this.aiSummary = `åˆ†æéç¨‹ç™¼ç”ŸéŒ¯èª¤ï¼š${error.message}`;
          } finally {
            this.isLoading = false;
          }
        },

        formatAnalysis(analysis) {
          return `
## å±¥æ­·åˆ†æå ±å‘Š

### å°ˆæ¥­æŠ€èƒ½è©•ä¼°
${analysis.skills_evaluation}

### ç¶“é©—ç›¸é—œåº¦
${analysis.experience_relevance}

### å€‹äººç‰¹è³ªåˆ†æ
${analysis.personality_analysis}

### è·æ¶¯ç™¼å±•æ½›åŠ›
${analysis.career_potential}

### ${this.interviewSettings.industry}ç”¢æ¥­å°ˆå±¬å»ºè­°
${analysis.industry_specific_advice}

### æ”¹é€²å»ºè­°
${analysis.improvement_suggestions}
      `;
        },

        // ç”Ÿæˆé¢è©¦å•é¡Œ
        async generateInterviewQuestions() {
          this.isLoading = true;
          try {
            const response = await fetch('https://api.openai.com/v1/chat/completions', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${config.OPENAI_API_KEY}`
              },
              body: JSON.stringify({
                model: "gpt-3.5-turbo",
                messages: [
                  {
                    role: "system",
                    content: `ä½ æ˜¯ä¸€ä½${this.interviewSettings.industry}ç”¢æ¥­é¢è©¦å®˜ã€‚
                è«‹ç”Ÿæˆ5å€‹é¢è©¦å•é¡Œï¼Œæ¯å€‹å•é¡ŒåŒ…å«ï¼š
                1. å•é¡Œå…§å®¹
                2. å»ºè­°å›ç­”è¦é»
                3. è©•åˆ†æ¨™æº–
                
                è«‹ç›´æ¥è¿”å›JSONé™£åˆ—æ ¼å¼ï¼Œä¸è¦åŠ å…¥å…¶ä»–æè¿°æ–‡å­—ã€‚
                æ ¼å¼å¦‚ä¸‹ï¼š
                [
                  {
                    "question": "å•é¡Œå…§å®¹",
                    "suggestedAnswer": "å»ºè­°å›ç­”è¦é»",
                    "evaluationCriteria": "è©•åˆ†æ¨™æº–"
                  }
                ]`
                  },
                  {
                    role: "user",
                    content: "è«‹æ ¹æ“šä»¥ä¸Šè¦æ±‚ç”Ÿæˆé¢è©¦å•é¡Œ"
                  }
                ],
                temperature: 0.7
              })
            });

            const result = await response.json();
            
            // æ¸…ç†ä¸¦è§£æ JSON
            let content = result.choices[0].message.content;
            
            // ç§»é™¤å¯èƒ½çš„ Markdown æ¨™è¨˜
            content = content.replace(/```json\n?/g, '').replace(/```\n?/g, '');
            
            // ç¢ºä¿å…§å®¹æ˜¯æœ‰æ•ˆçš„ JSON å­—ä¸²
            content = content.trim();
            
            try {
              const questions = JSON.parse(content);
              this.interviewQuestions = questions;
              this.currentQuestionIndex = 0;
            } catch (parseError) {
              console.error('JSON è§£æå¤±æ•—:', parseError);
              console.log('åŸå§‹å…§å®¹:', content);
              throw new Error('é¢è©¦å•é¡Œæ ¼å¼ç„¡æ•ˆ');
            }

          } catch (error) {
            console.error('ç”Ÿæˆå•é¡Œå¤±æ•—:', error);
            console.log('API éŸ¿æ‡‰:', result);
            console.log('æ¸…ç†å¾Œçš„å…§å®¹:', content);
            alert('ç”Ÿæˆé¢è©¦å•é¡Œæ™‚ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦');
          } finally {
            this.isLoading = false;
          }
        },

        // è©•ä¼°å›ç­”
        async evaluateAnswer() {
          if (!this.userAnswer) {
            alert('è«‹å…ˆè¼¸å…¥æ‚¨çš„å›ç­”ï¼');
            return;
          }

          this.isAnalyzing = true;
          try {
            const result = await this.callOpenAI('interviewer', 
              `å•é¡Œï¼š${this.interviewQuestions[this.currentQuestionIndex].question}\nå›ç­”ï¼š${this.userAnswer}`
            );
            this.feedbackResult = result.choices[0].message.content;
          } catch (error) {
            console.error('è©•ä¼°å¤±æ•—:', error);
            this.feedbackResult = 'è©•ä¼°éç¨‹ç™¼ç”ŸéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚';
          } finally {
            this.isAnalyzing = false;
          }
        }
      },
      template: `
        <div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
          <div class="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-lg">
            <h2 class="text-4xl font-bold text-blue-700 mb-8 text-center">å±¥æ­·å¯©æ ¸èˆ‡ AI æ‘˜è¦</h2>

            <!-- æ–°å¢è¨­ç½®é¢æ¿ -->
            <div class="mb-8 bg-white p-6 rounded-xl shadow-lg">
              <h3 class="text-xl font-bold text-gray-800 mb-4">å®¢è£½åŒ–è¨­ç½®</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <label class="block text-gray-700 font-medium mb-2">é¸æ“‡ç”¢æ¥­</label>
                  <select
                    v-model="interviewSettings.industry"
                    class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option v-for="ind in industries" :key="ind.value" :value="ind.value">
                      {{ ind.label }}
                    </option>
                  </select>
                </div>
                <div>
                  <label class="block text-gray-700 font-medium mb-2">é¢è©¦å®˜è§’è‰²</label>
                  <select
                    v-model="interviewSettings.role"
                    class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option v-for="role in roles" :key="role.value" :value="role.value">
                      {{ role.label }}
                    </option>
                  </select>
                </div>
              </div>
            </div>

            <div class="mb-6 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition duration-300">
              <button
                @click="uploadFile"
                class="bg-blue-500 text-white px-6 py-3 rounded-full text-lg font-semibold shadow-md hover:bg-blue-600 transition duration-300 transform hover:scale-105"
              >
                é¸æ“‡å±¥æ­·æª”æ¡ˆ (.txt æˆ– .pdf)
              </button>
              <p v-if="selectedFile" class="mt-3 text-gray-700">
                å·²é¸æ“‡æª”æ¡ˆ: <span class="font-medium">{{ selectedFile.name }}</span>
              </p>
            </div>

            <button
              @click="simulateAISummary"
              :disabled="!selectedFile || isLoading"
              class="w-full bg-indigo-600 text-white px-6 py-3 rounded-full text-xl font-bold shadow-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"
            >
              <template v-if="isLoading">
                <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="[http://www.w3.org/2000/svg](http://www.w3.org/2000/svg)" fill="none" viewBox="0 0 24 24">
                  <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                  <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                AI æ­£åœ¨æ‘˜è¦ä¸­...
              </template>
              <template v-else>
                AI æ‘˜è¦å±¥æ­·
              </template>
            </button>

            <div v-if="aiSummary" class="mt-8 p-6 bg-blue-50 border-l-4 border-blue-400 rounded-lg shadow-inner">
              <h3 class="text-2xl font-bold text-blue-800 mb-4">æ¨¡æ“¬ AI æ‘˜è¦çµæœ</h3>
              <p class="text-gray-800 leading-relaxed whitespace-pre-wrap">{{ aiSummary }}</p>
              <p class="mt-4 text-sm text-gray-600 italic">
                ï¼ˆæ­¤ç‚ºæ¨¡æ“¬ AI æ‘˜è¦ï¼Œå¯¦éš›æ‡‰ç”¨éœ€è¬¹æ…ï¼Œè«‹ä»¥æ‚¨çš„åˆ¤æ–·ç‚ºæº–ã€‚ï¼‰
              </p>
            </div>

            <!-- é¢è©¦è¨­ç½®é¢æ¿ -->
            <div class="mb-8 bg-white p-6 rounded-xl shadow-lg">
              <h3 class="text-xl font-bold text-gray-800 mb-4">é¢è©¦è¨­ç½®</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                <!-- ç”¢æ¥­é¸æ“‡ -->
                <div>
                  <label class="block text-gray-700 font-medium mb-2">ç”¢æ¥­</label>
                  <select
                    v-model="interviewSettings.industry"
                    class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option v-for="ind in industries" :key="ind.value" :value="ind.value">
                      {{ ind.label }}
                    </option>
                  </select>
                </div>

                <!-- é¢è©¦å®˜è§’è‰² -->
                <div>
                  <label class="block text-gray-700 font-medium mb-2">é¢è©¦å®˜</label>
                  <select
                    v-model="interviewSettings.role"
                    class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option v-for="role in roles" :key="role.value" :value="role.value">
                      {{ role.label }}
                    </option>
                  </select>
                </div>

                <!-- èªè¨€é¸æ“‡ -->
                <div>
                  <label class="block text-gray-700 font-medium mb-2">èªè¨€</label>
                  <select
                    v-model="interviewSettings.language"
                    class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option v-for="lang in languages" :key="lang.value" :value="lang.value">
                      {{ lang.label }}
                    </option>
                  </select>
                </div>

                <!-- é›£åº¦é¸æ“‡ -->
                <div>
                  <label class="block text-gray-700 font-medium mb-2">é›£åº¦</label>
                  <select
                    v-model="interviewSettings.level"
                    class="w-full px-4 py-2 border rounded-lg focus:ring-blue-500 focus:border-blue-500"
                  >
                    <option v-for="level in levels" :key="level.value" :value="level.value">
                      {{ level.label }}
                    </option>
                  </select>
                </div>
              </div>
            </div>

            <!-- é¢è©¦å•é¡Œç·´ç¿’å€ -->
            <div class="mt-8 bg-white p-6 rounded-xl shadow-lg">
              <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-800">æ¨¡æ“¬é¢è©¦ç·´ç¿’</h3>
                <button
                  @click="generateInterviewQuestions"
                  class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600"
                  :disabled="isLoading"
                >
                  {{ isLoading ? 'ç”Ÿæˆä¸­...' : 'ç”Ÿæˆæ–°å•é¡Œ' }}
                </button>
              </div>

              <div v-if="interviewQuestions.length > 0">
                <div class="mb-4">
                  <p class="text-lg font-medium">
                    å•é¡Œ {{ currentQuestionIndex + 1 }}/{{ interviewQuestions.length }}:
                  </p>
                  <p class="text-xl text-gray-800 mt-2">
                    {{ interviewQuestions[currentQuestionIndex].question }}
                  </p>
                </div>

                <textarea
                  v-model="userAnswer"
                  class="w-full p-4 border rounded-lg h-32 mb-4"
                  :placeholder="'è«‹ç”¨' + getLanguageLabel(interviewSettings.language) + 'å›ç­”...'"
                ></textarea>
                <button
                  @click="evaluateAnswer"
                  :disabled="isAnalyzing"
                  class="w-full bg-green-600 text-white px-6 py-3 rounded-full text-lg font-semibold shadow-md hover:bg-green-700 transition duration-300 transform hover:scale-105 flex items-center justify-center"
                >
                  <template v-if="isAnalyzing">
                    <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                    è©•ä¼°ä¸­...
                  </template>
                  <template v-else>
                    æäº¤å›ç­”è©•ä¼°
                  </template>
                </button>

                <!-- è©•ä¼°çµæœé¡¯ç¤º -->
                <div v-if="feedbackResult" class="mt-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-lg shadow-inner">
                  <h4 class="text-lg font-semibold text-blue-800 mb-2">è©•ä¼°çµæœ</h4>
                  <p class="text-gray-700 whitespace-pre-wrap">{{ feedbackResult }}</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      `
    };

    // åœ¨ Vue app å®šç¾©ä¸­æ·»åŠ  computed å±¬æ€§ä¾†è™•ç†é é¢åˆ‡æ›
    const app = Vue.createApp({
      data() {
        return {
          currentPage: 'landing',
          user: null,
          isAuthReady: false,
          showBookingSuccess: false
        }
      },
      computed: {
        getCurrentPage() {
          switch(this.currentPage) {
            case 'landing':
              return 'landing-page'
            case 'interview-essentials':
              return 'interview-essentials-page'
            case 'vocabulary-usage':
              return 'vocabulary-usage-page'
            case 'resume-review':
              return 'resume-review-page'
            default:
              return 'landing-page'
          }
        }
      },
      methods: {
        navigateToPage(pageName) {
          this.currentPage = pageName;
        },
        handleBookingSuccess() {
          this.showBookingSuccess = true;
          setTimeout(() => {
            this.showBookingSuccess = false;
          }, 3000);
        }
      },
      mounted() {
        // ç¢ºä¿é é¢è¼‰å…¥å®Œæˆå¾Œå†é€²è¡Œåˆå§‹åŒ–
        this.isAuthReady = true;
        this.user = { uid: 'demo-user' };
      }
    });

    // è¨»å†Šæ‰€æœ‰çµ„ä»¶
    app.component('landing-page', LandingPage);
    app.component('interview-essentials-page', InterviewEssentialsPage);
    app.component('vocabulary-usage-page', VocabularyUsagePage);
    app.component('resume-review-page', ResumeReviewPage);
    app.component('collapsible-section', CollapsibleSection);
    app.component('section-card', SectionCard);
    app.component('feature-card', FeatureCard);

    // å…¨å±€ mixin
    app.mixin({
      methods: {
        getLanguageLabel(value) {
          const languages = [
            { value: 'japanese', label: 'æ—¥æ–‡' },
            { value: 'english', label: 'è‹±æ–‡' },
            { value: 'chinese', label: 'ä¸­æ–‡' }
          ];
          return languages.find(l => l.value === value)?.label || value;
        },
        getLevelLabel(value) {
          const levels = [
            { value: 'beginner', label: 'åˆç´š' },
            { value: 'intermediate', label: 'ä¸­ç´š' },
            { value: 'advanced', label: 'é«˜ç´š' }
          ];
          return levels.find(l => l.value === value)?.label || value;
        },
        getIndustryLabel(value) {
          const industries = [
            { value: 'IT', label: 'IT/è»Ÿé«”é–‹ç™¼' },
            { value: 'trading', label: 'è²¿æ˜“/å•†ç¤¾' },
            { value: 'manufacturing', label: 'è£½é€ æ¥­' },
            { value: 'service', label: 'æœå‹™æ¥­' }
          ];
          return industries.find(i => i.value === value)?.label || value;
        }
      }
    });

    // æ›è¼‰æ‡‰ç”¨
    app.mount('#app');
  </script>

  <script>
// è¡¨å–®æäº¤è¿½è¹¤
document.querySelector('form').addEventListener('submit', function(e) {
    gtag('event', 'form_submit', {
        'form_name': 'interview_tool'
    });
});

// å·¥å…·åŠŸèƒ½ä½¿ç”¨è¿½è¹¤
document.querySelectorAll('.tool-feature').forEach(feature => {
    feature.addEventListener('click', function() {
        gtag('event', 'tool_feature_use', {
            'feature_name': this.getAttribute('data-feature')
        });
    });
});
</script>

<!-- Add Footer Section -->
<footer class="bg-gray-800 text-gray-300">
  <!-- ä¸ŠåŠéƒ¨ï¼šå…§å®¹å€ -->
  <div class="container mx-auto px-6 py-12 grid grid-cols-1 md:grid-cols-4 gap-8">
    <!-- é—œæ–¼æˆ‘å€‘ -->
    <div>
      <h4 class="text-xl font-bold text-white mb-4">é—œæ–¼æ—¥æ–‡é¢è©¦é€š</h4>
      <p class="text-sm leading-relaxed">
        æä¾›æœ€å®Œæ•´ã€æœ€å¯¦ç”¨çš„æ—¥æ–‡é¢è©¦æº–å‚™è³‡æºï¼Œçµåˆ AI æ¨¡æ“¬èˆ‡ä¸€å°ä¸€æŒ‡å°ï¼ŒåŠ©æ‚¨é¢è©¦é«˜åˆ†é€šéã€‚
      </p>
    </div>

    <!-- å¿«é€Ÿé€£çµ -->
    <nav aria-label="Footer Links" class="space-y-2">
      <h4 class="text-xl font-bold text-white mb-4">å¿«é€Ÿé€£çµ</h4>
      <ul class="space-y-1 text-sm">
        <li><a href="#landing" class="hover:text-white">é¦–é </a></li>
        <li><a href="#interview-essentials" class="hover:text-white">é¢è©¦ç²¾è¯</a></li>
        <li><a href="#vocabulary-usage" class="hover:text-white">æ•¬èªç”¨å…·</a></li>
        <li><a href="#resume-review" class="hover:text-white">å±¥æ­·å¯©æ ¸</a></li>
        <li><a href="#contact" class="hover:text-white">è¯çµ¡æˆ‘å€‘</a></li>
      </ul>
    </nav>

    <!-- è¨‚é–±é›»å­å ± -->
    <div>
      <h4 class="text-xl font-bold text-white mb-4">è¨‚é–±é›»å­å ±</h4>
      <form class="flex flex-col sm:flex-row sm:items-center">
        <label for="footer-newsletter" class="sr-only">Email åœ°å€</label>
        <input
          type="email"
          id="footer-newsletter"
          placeholder="è¼¸å…¥ Email"
          class="w-full sm:flex-grow px-4 py-2 mb-3 sm:mb-0 rounded-md bg-gray-700 border border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <button
          type="submit"
          class="sm:ml-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-md text-white font-medium transition"
        >
          è¨‚é–±
        </button>
      </form>
      <p class="mt-3 text-xs text-gray-500">
        æˆ‘å€‘å°‡å®šæœŸæ¨é€æœ€æ–°é¢è©¦æŠ€å·§èˆ‡è³‡æºï¼Œä¿è­‰ä¸æœƒå¤–æ´©æ‚¨çš„ä¿¡ç®±ã€‚
      </p>
    </div>

    <!-- è¯çµ¡èˆ‡ç¤¾ç¾¤ -->
    <div>
      <h4 class="text-xl font-bold text-white mb-4">è¯çµ¡æˆ‘å€‘</h4>
      <address class="not-italic text-sm space-y-2">
        <p>ğŸ“ å°åŒ—å¸‚ç¯„æœ¬è·¯123è™Ÿ</p>
        <p>ğŸ“ (02) 1234-5678</p>
        <p>âœ‰ï¸ service@example.com</p>
      </address>
    
      <div class="mt-4 flex space-x-3">
        <a href="#" aria-label="Facebook" class="hover:text-white">
          <svg class="w-6 h-6" /* æ”¾ä¸Šæ‚¨çš„ SVG icon */></svg>
        </a>
        <a href="#" aria-label="LinkedIn" class="hover:text-white">
          <svg class="w-6 h-6"></svg>
        </a>
        <a href="#" aria-label="Instagram" class="hover:text-white">
          <svg class="w-6 h-6"></svg>
        </a>
      </div>
    </div>
  </div>

  <!-- ä¸‹åŠéƒ¨ï¼šç‰ˆæ¬Šè²æ˜ -->
  <div class="border-t border-gray-700">
  <div class="container mx-auto px-6 py-4 flex flex-col md:flex-row justify-between items-center text-center text-sm text-gray-500">
    <div>
      Â© 2025 æ—¥æ–‡é¢è©¦é€šã€‚ç‰ˆæ¬Šæ‰€æœ‰ã€‚<br class="md:hidden">å»ºè­°ä½¿ç”¨ Chromeã€Firefox ç€è¦½å™¨ä»¥ç²å¾—æœ€ä½³é«”é©—ã€‚
    </div>
    <div class="mt-2 md:mt-0">
      Powered by <a href="https://yourstudio.example.com" target="_blank" class="text-blue-400 hover:text-blue-300">æ•¸è½‰å·¥ä½œå®¤</a>
    </div>
  </div>
</div>
</footer>
</body>
</html>